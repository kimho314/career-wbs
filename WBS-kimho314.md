# ğŸª´ career-WBS

> mermaidë¡œ ì‘ì„±ëœ ê³¼ì œëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼(WBS.md)ë¡œ ì˜¬ë ¤ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. (md íŒŒì¼ ë‚´ì— ê¸°ì¡´ êµ¬ì¡°ë¥¼ ë„£ì–´ì£¼ì„¸ìš”) <br>
> ë³„ë„ ì•„í‚¤íƒì³ë‚˜ ëª¨ë¸ë§ ë„êµ¬ë¥¼ ì‚¬ìš©í•œ ê²½ìš°ì—ëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼(WBS.md)ê³¼ png, gif, jpg, pdf íŒŒì¼ í˜•ì‹ìœ¼ë¡œ WBS-{gitID}.png íŒŒì¼ëª…ìœ¼ë¡œ upload í•´ì£¼ì„¸ìš”

# ìš”êµ¬ì‚¬í•­

-   [x] ê°œì„ í•˜ë ¤ëŠ” í”„ë¡œì íŠ¸ì˜ ìµœì¢… ì„¤ê³„
    -   [x] ë³€ê²½ ì‚¬í•­ì— ëŒ€í•œ Target ì‹œìŠ¤í…œ ì„¤ê³„ë¥¼ í™•ì •í•œë‹¤. (3ì£¼ì°¨ ë¯¸ì…˜ í™œìš©)
    -   [x] ë³€ê²½ ì‚¬í•­ì— ëŒ€í•œ ê¸°ëŒ€íš¨ê³¼ë¥¼ í™•ì •í•œë‹¤. (3ì£¼ì°¨ ë¯¸ì…˜ í™œìš©)
-   [ ] task list ë„ì¶œ
    -   [ ] í˜„ ì‹œìŠ¤í…œì—ì„œ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì„ class diagram(DBë³€ê²½ì´ ë°œìƒí•  ê²½ìš° ERDì¶”ê°€)ìœ¼ë¡œ ì‘ì„±
    -   [ ] ë³€ê²½, ì¶”ê°€ ë  í”„ë¡œê·¸ë¨ë“¤ì˜ ì‘ì—… ëª©ë¡ì„ ì‘ì„±í•œë‹¤.
-   [ ] ì¼ì • ê³„íš ë¬¸ì„œ (WBS)
    -   [ ] ì‘ì—…ëª©ë¡ì˜ ì†Œìš”ì¼ì •ì„ ì‚°ì • í•œë‹¤.
    -   [ ] ì‘ì—… ëª©ë¡ì˜ ì˜ì¡´ì„±ì„ ì •ì˜ í•œë‹¤.
    -   [ ] ì‘ì—… ëª©ë¡ì˜ ì „ì²´ ì¼ì •ì„ ì‘ì„±í•œë‹¤.
    -   [ ] ì§„í–‰ ìƒíƒœë¥¼ checkí•˜ê¸°ìœ„í•œ ë§ˆì¼ìŠ¤í†¤ ì„¤ì • í•œë‹¤.

# ğŸš€ë¯¸ì…˜

## AS-IS

### AS-IS ê°œì„ í¬ì¸íŠ¸ ë¶„ì„

-   ìš´ì˜ ì´ìŠˆ í‹°ì¼“ìœ¼ë¡œ ì œì¼ ë§ì´ ì˜¬ë¼ì˜¤ëŠ” ê±´ì´ ìš´ì„ë¹„ ìˆ˜ì • ê±´ì…ë‹ˆë‹¤. í•˜ë£¨ì— ì˜¬ë¼ì˜¤ëŠ” ìš´ì˜ ì´ìŠˆ ì¤‘ 50% ë¹„ìœ¨ì„ ì°¨ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.
-   í•´ë‹¹ ì´ìŠˆê°€ í‹°ì¼“ìœ¼ë¡œ ì˜¬ë¼ì˜¤ë©´ ì „í‘œê°€ ë°œí–‰ëœ ì£¼ë¬¸ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
-   ì „í‘œê°€ ë°œí–‰ëœ ì£¼ë¬¸ì€ ì „í‘œ ì·¨ì†Œ APIë¥¼ í†µí•´ì„œ ì „í‘œë¥¼ ì·¨ì†Œí•©ë‹ˆë‹¤.
-   ì „í‘œê°€ ë°œí–‰ë˜ì§€ ì•Šì€ ì£¼ë¬¸ì€ DB ë°ì´í„°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.
-   ì´ë ‡ê²Œ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •í•˜ëŠ” ì‘ì—…ì´ ì£¼ë¬¸ì˜ ê°œìˆ˜ì— ë”°ë¼ ë§ê²ŒëŠ” 30ë¶„ê¹Œì§€ ê±¸ë¦½ë‹ˆë‹¤.
-   ì´ë ‡ê²Œ ë¦¬ì†ŒìŠ¤ê°€ ë§ì´ ë“œëŠ” ì‘ì—…ì„ APIë¥¼ í†µí•´ ì–´ë“œë¯¼ í˜ì´ì§€ì—ì„œ ê¸°ëŠ¥ì„ ì œê³µí•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ë©´ ë¹„ìš©ì„ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆìœ¼ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.

### AS-IS í”„ë¡œì„¸ìŠ¤

```mermaid
flowchart TB
    A[Start] --ìš´ì„ë¹„ìˆ˜ì •ìš”ì²­--> B(ì „í‘œë°œí–‰í™•ì¸)
    B -- ì „í‘œë°œí–‰ì™„ë£Œ --> C[ì „í‘œì·¨ì†Œìš”ì²­/w.API]
    B -- ì „í‘œë°œí–‰ì•ˆë¨ --> D[DBë°ì´í„°ë³´ì •]
```

### Class diagram

-   AS-IS êµ¬ì¡°ì—ì„œ ê°œì„ ì„ í• ë•Œ ì˜í–¥ì„ ë°›ê²Œë˜ëŠ” class diagramì„ ì‘ì„±í•œë‹¤.

```mermaid
classDiagram

    class PaymentMethod {
        +String paymentMethodID
        pay()
        cancel()
    }
    PaymentMethod <|-- Card
    PaymentMethod <|-- Bank

    class PG {
        +String pgID
        pay()
        cancel()
    }
    PG <|-- Card
    PG <|-- Bank


    class Payment {
        +String paymentID
        +String transactionID
        void pay()
    }

    class Cancel {
        +String cancelID
        +PaymentID paymentID
        +String transactionID
        void cancel()
    }

    class CancelDetail {
        +String cancelDetailID
        +String cancelID
    }

    class PaymentDetail {
        +PaymentID paymentID
    }


    class Card {
        CardID
        pay()
        cancel()
        checkTransaction()
    }
    note for Card "checkTransaction() : ê²°ì œë‚´ì—­í™•ì¸"

    class Bank {
        BankID
        pay()
        cancel()
        checkTransaction()
    }
    note for Bank "checkTransaction() : ê²°ì œë‚´ì—­í™•ì¸"

   Payment "1" -- "*" PaymentDetail : ê²°ì œìˆ˜ë‹¨, ê¸ˆì•¡, ìƒí’ˆ ì •ë³´
   Cancel "1" -- "*" CancelDetail : ê²°ì œìˆ˜ë‹¨, ê¸ˆì•¡, ìƒí’ˆ ì •ë³´
   Cancel "0..1" --> "1" Payment : ì›ê²°ì œ ì •ë³´
   Payment --> PaymentMethod : ê²°ì œìš”ì²­
   Cancel --> PaymentMethod : ì·¨ì†Œìš”ì²­


```

### ERD

-AS-IS êµ¬ì¡°ì—ì„œ ê°œì„ ì„ í• ë•Œ ì˜í–¥ì„ ë°›ê²Œë˜ëŠ” ERDë¥¼ ì‘ì„±í•œë‹¤.

```mermaid
erDiagram
  Order {
    String orderId
    String businessId
    String memberId
    String orderNo
    Jsonb fromPoint
    Jsonb toPotin
    Jsonb fromAddress
    Jsonb toAddress
  }
  Order ||--|{ InvoiceOwner : has

  InvoiceOwner {
    String invoiceOwnerId
    String orderId
    Integer totalAmount
    Integer totalAmountWithoutVat
    String invoiceStatus
    String invoiceType
    String billNo
    String documentId
  }

  InvoiceOwnerItem  {
    String invoiceItemId
    String invoiceOwnerId
    String invoiceItemType
    Integer invoiceItemAmount
  }
  InvoiceOwner ||--|{ InvoiceOwnerItem : has

  InvoiceDriver  {
    String invoiceDriverId
    String orderId
    Integer totalAmount
    Integer totalAmountWithoutVat
    String invoiceStatus
    String invoiceType
    String billNo
    String documentId
  }
  Order ||--|{ InvoiceDriver : has

  InvoiceDriverItem  {
    String invoiceItemId
    String invoiceDriverId
    String invoiceItemType
    Integer invoiceItemAmount
  }
  InvoiceDriver ||--|{ InvoiceDriverItem : has

```

## TO-BE

### TO-BE ê¸°ëŒ€íš¨ê³¼ ë¶„ì„

-   ê°œì„  ì „
    -   ìˆ˜ë™ìœ¼ë¡œ DB ë°ì´í„° ìˆ˜ì •í•˜ëŠ”ë° 1ê±´ë‹¹ ìµœëŒ€ 30ë¶„ ì†Œìš”. í•˜ë£¨ì— í‰ê·  10ê±´ ì²˜ë¦¬. í•˜ë£¨ í‰ê·  í•´ë‹¹ ì´ìŠˆ ëŒ€ì‘ì— 300ë¶„ ì†Œìš”
-   ê°œì„  í›„
    -   apië¥¼ ë§Œë“¤ì–´ì„œ ìš´ì˜ìì—ê²Œ ì–´ë“œë¯¼ í˜ì´ì§€ë¥¼ í†µí•´ ê¸°ëŠ¥ ì œê³µ ì‹œ ì†Œìš”ì‹œê°„ ì—†ìŒ
    -   í•˜ë£¨ í‰ê·  300ë¶„ì„ ë” ê°œë°œì— ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

### TO-BE í”„ë¡œì„¸ìŠ¤

```mermaid
flowchart TB
    A[Start] --ìš´ì„ë¹„ìˆ˜ì •ìš”ì²­--> B(ì „í‘œë°œí–‰í™•ì¸)
    B -- ì „í‘œë°œí–‰ì™„ë£Œ --> C[ì „í‘œì·¨ì†Œìš”ì²­/w.API]
    B -- ì „í‘œë°œí–‰ì•ˆë¨ --> D[ì–´ë“œë¯¼ í˜ì´ì§€ì—ì„œ ìš´ì˜ìê°€ ìš´ì„ë¹„ ìˆ˜ì • api í˜¸ì¶œ]
```

### class diagram

-   class diagram
-   ê¸°ì¡´ì— ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ APIë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— ì˜í–¥ì„ ë°›ëŠ” classëŠ” ë”°ë¡œ ì—†ìŠµë‹ˆë‹¤.

### ERD

-   TO-BE êµ¬ì¡°ì—ì„œ ë³€ê²½ë˜ëŠ” ERDë¥¼ ì‘ì„±í•œë‹¤.
-   ERDëŠ” ë³€ê²½ì‚¬í•­ ì—†ìŠµë‹ˆë‹¤.

## Task List

1. Timeout ë°œìƒ ì‹œ Eventë°œìƒ ìˆ˜ì •- SQS, SNS <br>
2. Timeout event subscription module ì‘ì„±<br>
3. Timeout log table ì„¤ê³„, ìƒì„±<br>
4. Timeout ì¬ì²˜ë¦¬ service ì„¤ê°œ, êµ¬í˜„<br>
   &nbsp; &nbsp; 1. transaction ì„±ê³µì—¬ë¶€ í™•ì¸ <br>
   &nbsp; &nbsp; 2. transaction ì·¨ì†Œ ì²˜ë¦¬ í•˜ê¸° (ê²°ì œì‹œ)<br>
   &nbsp; &nbsp; 3. ì¬ì²˜ë¦¬ logging(DB) : ì²˜ë¦¬ íšŸìˆ˜(3íšŒ), ì²˜ë¦¬ ë‚´ì—­<br>
5. Timeout ì¬ì²˜ë¦¬ í˜„í™© ì¡°íšŒ ì–´ë“œë¯¼ page.<br>
6. Timeout ì¬ì²˜ë¦¬ ì‹¤íŒ¨ì‹œ ë©”ì¼ ë°œì†¡ ëª¨ë“ˆ.<br>

## WBS

-   ì‚°ì • ê¸°ì¤€ : 4ì‹œê°„/ì¼

1. ìš”êµ¬ì‚¬í•­ ë¶„ì„ : ì´ë¯¸ìˆ˜í–‰
2. ì„¤ê³„ : 3d
3. ì¼ì •ì‚°ì •: 1d
4. Timeout ë°œìƒ ì‹œ Eventë°œìƒ ìˆ˜ì •- SQS, SNS : ì´ë¯¸ ì‚¬ìš©í•˜ëŠ” SQSê°€ ìˆê³  íìƒì„± ë° ê¸°ì¡´ì½”ë“œ ìˆ˜ì • : 2d
5. Timeout event subscription module ì‘ì„± : SQS, SNS : ì´ë¯¸ ì‚¬ìš©í•˜ëŠ” SQSê°€ ìˆê³  ì‹ ê·œ class ìƒì„± : 2d
6. Timeout log table ì„¤ê³„, ìƒì„± : 1d
7. Timeout ì¬ì²˜ë¦¬ service ì„¤ê°œ, êµ¬í˜„ : 2d
    1. transaction ì„±ê³µì—¬ë¶€ í™•ì¸ : 0.5d
    2. transaction ì·¨ì†Œ ì²˜ë¦¬ í•˜ê¸° (ê²°ì œì‹œ) : 0.5d
    3. ì¬ì²˜ë¦¬ logging(DB) : ì²˜ë¦¬ íšŸìˆ˜(3íšŒ), ì²˜ë¦¬ ë‚´ì—­ : 1d
8. Timeout ì¬ì²˜ë¦¬ í˜„í™© ì¡°íšŒ ì–´ë“œë¯¼ page.: ê¸°ì¡´ adminì— ë©”ë‰´ ì¶”ê°€ : 5d
9. Timeout ì¬ì²˜ë¦¬ ì‹¤íŒ¨ì‹œ ë©”ì¼ ë°œì†¡ ëª¨ë“ˆ: ê¸°ì¡´ notificationì— method ì¶”ê°€ : 1d

```mermaid
gantt
    dateFormat  YYYY-MM-DD
    title       ê²°ì œ ì¬ì²˜ë¦¬ WBS
    excludes    weekends, 2023-12-25, 2024-01-01
    %% (`excludes` accepts specific dates in YYYY-MM-DD format, days of the week ("sunday") or "weekends", but not the word "weekdays".)

    section prepare
    ìš”êµ¬ì‚¬í•­ë¶„ì„                    :done,    des1, 2023-12-01, 10d
    ì„¤ê³„                            :active,  des2, 2023-12-11, 3d
    ì¼ì •ì‚°ì •                        :         des3, after des2, 1d
    Timeout log table ì„¤ê³„, ìƒì„±    :       des4, 2023-12-27, 1d

    section ê¸°ì¡´ ëª¨ë“ˆ ìˆ˜ì •
    Payment timeout event ë°œìƒ          :crit, b1, 2024-01-03,2d
    Cancel timeoutìš© cancel ì¶”ê°€        :crit, b2, 2024-01-10, 2d

    section ì‹ ê·œ ëª¨ë“ˆ êµ¬í˜„
    Timeout event consumer ëª¨ë“ˆì‘ì„±    :c1, after b1, 2d
    Queue ë™ì‘í™•ì¸                      :milestone, after c1, 0d
    Timeout service êµ¬í˜„                  :c2, after b2  , 2d
    Timeout ì¬ì²˜ë¦¬ í˜„í™© ì¡°íšŒ ì–´ë“œë¯¼ ê°œë°œ    :c3, after c2  , 5d
    Timeout ì¬ì²˜ë¦¬ ì‹¤íŒ¨ì‹œ notification     : c4, after c3, 1d

    section í…ŒìŠ¤íŠ¸
    Test & QA                           :after c4, 2d

```
